<!DOCTYPE html>
<html lang="es">
<head>


    <link rel="stylesheet" type="text/css" href="css/styles.css">
</head>

<body>
    <script src="/js/mostrar-seccion.js"></script>

    <nav class="navegacion">
        <link rel="stylesheet" type="text/css" href="/css/productos-servicios.css">
        <ul class="menu">
            <li class="logo"><a href="home.html"><img src="https://pillan.inf.uct.cl/~eescares/DesWeb/Proyecto/Entrega1/prodesweb/img/becrux.png" alt="Logo de la empresa"></a></li>
            <li><a href="home.html" onclick="mostrarSeccion('home')">Home</a></li>
            <li><a href="productos-servicios.html" onclick="mostrarSeccion('productos-servicios')">Productos y Servicios</a></li>
            <li><a href="quienes-somos.html" onclick="mostrarSeccion('quienes-somos')">Quienes Somos</a>
                <ul class="submenu">
                    <li><a href="historia.html" onclick="mostrarSeccion('historia')">Historia</a></li>
                    <li><a href="nuestro-equipo.html" onclick="mostrarSeccion('nuestro-equipo')">Nuestro Equipo</a></li>
                </ul>
            </li>
            <li><a href="contacto.html" onclick="mostrarSeccion('contacto')">Contacto</a></li>
        </ul>
    </nav>

    <section id="productos-servicios" class="seccion">
        <h1>Productos y Servicios</h1>
        <table>
            <tr>
                <!-- CategorÃ­a 1: MantenciÃ³n de PC -->
                <td class="categoria" onclick="obtenerDatosCategoria('pc')" onmouseover="animacionMouseOver(this)" onmouseout="animacionMouseOut(this)">


                    <img src="https://pillan.inf.uct.cl/~eescares/DesWeb/Proyecto/Entrega1/prodesweb/img/pcEscritorio.png"
                        alt="MantenciÃ³n de PC">
                    <p>Mantención de PC</p>
                </td>
                <!-- CategorÃ­a 2: MantenciÃ³n de Notebook -->
                <td class="categoria" onclick="obtenerDatosCategoria('notebook')" onmouseover="animacionMouseOver(this)" onmouseout="animacionMouseOut(this)">

                    <img src="https://pillan.inf.uct.cl/~eescares/DesWeb/Proyecto/Entrega1/prodesweb/img/notebook.png"
                        alt="MantenciÃ³n de Notebook">
                    <p>Mantención de Notebook</p>
                </td>
            </tr>
        </table>
    </section>
    <script>      
        function obtenerDatosCategoria(categoria) {
        fetch(`/obtenerdatos.php?categoria=${categoria}`)
            .then(response => response.json())
            .then(data => {
                // Crear una tabla
                const table = document.createElement('table');
                const thead = document.createElement('thead');
                const tbody = document.createElement('tbody');
                
                // Crear una fila de encabezado
                const headerRow = document.createElement('tr');
                const headers = Object.keys(data[0]); // Suponemos que todas las filas tienen las mismas columnas
                
                headers.forEach(header => {
                    const th = document.createElement('th');
                    th.textContent = header;
                    headerRow.appendChild(th);
                });
                
                thead.appendChild(headerRow);
                table.appendChild(thead);
                
                // Crear filas de datos
                data.forEach(rowData => {
                    const row = document.createElement('tr');
                    headers.forEach(header => {
                        const cell = document.createElement('td');
                        cell.textContent = rowData[header];
                        row.appendChild(cell);
                    });
                    tbody.appendChild(row);
                });
                
                table.appendChild(tbody);
                
                // Reemplazar el contenido de la sección "Productos y Servicios" con la nueva tabla
                const seccionProductosServicios = document.getElementById('productos-servicios');
                seccionProductosServicios.innerHTML = '';
                seccionProductosServicios.appendChild(table);
            })
            .catch(error => {
                console.error('Error al obtener datos:', error);
            });
    }
    </script>
</body>
</html>
